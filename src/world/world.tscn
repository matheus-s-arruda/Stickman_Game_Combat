[gd_scene load_steps=7 format=2]

[ext_resource path="res://src/stickman/stickman.tscn" type="PackedScene" id=1]
[ext_resource path="res://src/world/world.gd" type="Script" id=2]
[ext_resource path="res://src/stickman/enemy/stickman_enemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/world/scenerys/desert_scenery.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/GUI/GUI.tscn" type="PackedScene" id=8]

[sub_resource type="GDScript" id=3]
script/source = "extends Camera2D


var _zoom_fator := 1.0


func _process(delta):

	var a = Gameplay.player_1.to_local(Gameplay.player_2.global_position)
	var d = Gameplay.player_1.global_position.distance_to(Gameplay.player_2.global_position)

	position = a * 0.5
	position.y -= 200

	_zoom_fator = lerp(_zoom_fator, clamp(d * 0.002, 0.8, 1.15), 0.16)
	zoom = Vector2.ONE * _zoom_fator
"

[node name="world" type="Node"]
script = ExtResource( 2 )

[node name="desert_scenery" parent="." instance=ExtResource( 4 )]

[node name="entities" type="Node" parent="."]

[node name="player" parent="entities" instance=ExtResource( 1 )]
position = Vector2( 276.651, 698.688 )

[node name="Camera" type="Camera2D" parent="entities/player"]
position = Vector2( -168.19, -34.7057 )
current = true
zoom = Vector2( 1.15, 1.15 )
limit_left = 0
limit_top = 0
limit_right = 2000
limit_bottom = 900
smoothing_enabled = true
smoothing_speed = 10.0
script = SubResource( 3 )

[node name="enemys" type="Node" parent="."]

[node name="enemy" parent="enemys" instance=ExtResource( 3 )]
position = Vector2( 1677.65, 698.688 )
target = NodePath("../../entities/player")

[node name="GUI" parent="." instance=ExtResource( 8 )]
